pipeline {
  agent any
  stages {
    stage('Deploy CloudFormation Stack') {
      steps {
        script {
          def stackName = "my-s3-bucket-stack-radha"
          def templateFile = "s3-bucket-template.yaml"
          def awsRegion = "us-east-1"

          sh "aws cloudformation deploy --region ${awsRegion} --stack-name ${stackName} --template-file ${templateFile}"
          aws cloudformation describe-stack-events --stack-name my-s3-bucket-stack-radha
        }
      }
    }
  }
}
